<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>View All Bookings</title>
    <!-- Link to custom CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='admin_view_bookings.css') }}"
    />
  </head>
  <body>
    <div class="bookings-container">
      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <div class="flash-message alert-{{ category }}">
        <span class="message-text">{{ message }}</span>
        <span
          class="close-btn"
          onclick="this.parentElement.style.display='none';"
          >&times;</span
        >
      </div>
      {% endfor %} {% endif %} {% endwith %}

      <!-- Title -->
      <h1 class="title">All Bookings</h1>

      <!-- Bookings Table -->
      <div class="table-container">
        <table class="bookings-table">
          <thead>
            <tr>
              <th>Swimmer</th>
              <th>Session</th>
              <th>Payment Method</th>
              <th>Payment Completed</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for booking in bookings %}
            <tr>
              <td>{{ booking.swimmer_name }}</td>
              <td>{{ booking.session_id }}</td>
              <td>{{ booking.payment_method }}</td>
              <td>{{ 'Yes' if booking.is_payment_completed else 'No' }}</td>
              <td>
                {% if not booking.is_payment_completed and
                booking.payment_method == "Cash" %}
                <button class="btn-action">Mark Payment Completed</button>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Back Button -->
      <a href="{{ url_for('admin_homepage') }}" class="btn-back"
        >Back to Admin Dashboard</a
      >
    </div>
  </body>
</html>
