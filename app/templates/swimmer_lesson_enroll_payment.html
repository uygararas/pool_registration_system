{% extends "base.html" %} {% block title %}Enroll in Lesson - Payment{% endblock
%} {% block content %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='swimmer_lesson_enroll_payment.css') }}"
/>
<div class="payment-container">
  <!-- Title -->
  <div class="title-section">
    <h1 class="title">Enroll in Lesson - Payment</h1>
  </div>

  <!-- Payment Form -->
  <form
    method="POST"
    action="{{ url_for('process_payment', session_id=session_id) }}"
    class="payment-form"
  >
    <!-- Payment Method -->
    <div class="form-group">
      <label for="payment_method" class="form-label"
        >Select Payment Method:</label
      >
      <select
        class="form-control"
        id="payment_method"
        name="payment_method"
        required
        onchange="toggleCreditCardForm()"
      >
        <option value="" disabled selected>Select a payment method</option>
        <option value="CreditCard">Credit Card</option>
        <option value="Cash">Cash</option>
      </select>
    </div>

    <!-- Credit Card Details -->
    <div id="credit_card_details" class="credit-card-section hidden">
      <h2 class="section-title">Credit Card Information</h2>
      <div class="form-group">
        <label for="card_number" class="form-label">Card Number:</label>
        <input
          type="text"
          class="form-control"
          id="card_number"
          name="card_number"
          placeholder="Enter card number"
        />
      </div>
      <div class="form-group">
        <label for="card_holder" class="form-label">Card Holder Name:</label>
        <input
          type="text"
          class="form-control"
          id="card_holder"
          name="card_holder"
          placeholder="Enter card holder name"
        />
      </div>
      <div class="form-group">
        <label for="expiry_date" class="form-label">Expiry Date:</label>
        <input
          type="month"
          class="form-control"
          id="expiry_date"
          name="expiry_date"
        />
      </div>
      <div class="form-group">
        <label for="cvv" class="form-label">CVV:</label>
        <input
          type="password"
          class="form-control"
          id="cvv"
          name="cvv"
          placeholder="Enter CVV"
        />
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button type="submit" class="btn btn-success">Pay</button>
      <a href="{{ url_for('swimmer_homepage') }}" class="btn btn-danger"
        >Cancel</a
      >
    </div>
  </form>
</div>

<script>
  function toggleCreditCardForm() {
    const paymentMethod = document.getElementById("payment_method").value;
    const creditCardDetails = document.getElementById("credit_card_details");

    if (paymentMethod === "CreditCard") {
      creditCardDetails.classList.remove("hidden");
    } else {
      creditCardDetails.classList.add("hidden");
    }
  }
</script>
{% endblock %}
